/* === Design Tokens (CSS Variables) === */
:root {
  --color-base: #F9F9F9;
  --color-base-rgb: 249 249 249;
  --color-primary: #4A90E2;
  --color-primary-rgb: 74 144 226;
  --color-secondary: #50E3C2;
  --color-secondary-rgb: 80 227 194;
  --color-accent1: #FFD166;
  --color-accent1-rgb: 255 209 102;
  --color-accent2: #F25F5C;
  --color-accent2-rgb: 242 95 92;
  --color-accent3: #9D59EC;
  --color-accent3-rgb: 157 89 236;
}

[data-theme="dark"] {
  /* カラートークンは今後拡張予定 */
}

* { box-sizing: border-box; }
html, body {
  margin: 0;
  padding: 0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, "Hiragino Kaku Gothic ProN", Meiryo, sans-serif;
  background: var(--color-base);
  color: #111;
}
.container {
  max-width: 980px;
  margin: 24px auto;
  padding: 16px;
  background: #fff;
  border-radius: 14px;
  box-shadow: 0 8px 24px rgba(0,0,0,.06);
}
.tab-container { display:flex; gap:8px; margin-bottom: 16px; }
.tab-btn { padding:10px 16px; border:1px solid #e5e7eb; background:#fff; border-radius:10px; cursor:pointer; }
.tab-btn.active { background:#111; color:#fff; }
.primary-btn { padding:12px 16px; background:#111; color:#fff; border:none; border-radius:10px; cursor:pointer; }
.secondary-btn, .remove-btn, .add-btn { padding:10px 12px; background:#e9eef6; border: none; border-radius: 10px; cursor:pointer; }
fieldset { border:1px solid #e5e7eb; border-radius: 12px; padding: 16px; margin-bottom:16px; }
legend { padding: 0 6px; }
label { display:block; margin: 8px 0 4px; font-size: 14px; color:#374151; }
input, select, textarea { width:100%; padding:10px; border:1px solid #e5e7eb; border-radius:10px; background:#fff; }
.grid-2 { display:grid; grid-template-columns: 1fr 1fr; gap:12px; }
.grid-3 { display:grid; grid-template-columns: repeat(3, 1fr); gap:12px; }
.entry-group { display:grid; grid-template-columns: 80px 80px 1fr 140px auto; gap:8px; margin-bottom:8px; }
.history-year, .history-month, .history-desc, .history-status { width:100%; }
.photo-preview { width: 120px; height: 160px; border:1px solid #e5e7eb; border-radius: 8px; object-fit: cover; background: #f3f4f6; display:block; }
.modal {
  position: fixed; inset: 0; display:flex; align-items:center; justify-content:center;
  background: rgba(0,0,0,.4); z-index:999;
}
.modal-card { background:#fff; padding:20px; border-radius:14px; min-width: 280px; max-width: 420px; }
button:disabled { opacity:.6; cursor:not-allowed; }

/* === Icon / Shadow Utilities === */
.icon-2px { stroke-width: 2; }
.soft-shadow { box-shadow: 0 8px 28px rgba(0,0,0,0.06), 0 2px 8px rgba(0,0,0,0.05); }

.bg-base { background-color: var(--color-base); }
.text-neutral-900 { color: #111111; }
.text-neutral-600 { color: #4B5563; }
.text-neutral-500 { color: rgba(100,116,139,0.9); }
.text-primary { color: var(--color-primary); }
.text-secondary { color: var(--color-secondary); }
.text-accent1 { color: var(--color-accent1); }
.text-accent2 { color: var(--color-accent2); }
.text-accent3 { color: var(--color-accent3); }

/* Dot pattern background */
.pattern-dots {
  background-image: radial-gradient(currentColor 1px, transparent 1px);
  background-size: 12px 12px;
  opacity: .25;
}

/* Wave pattern background */
.pattern-waves {
  background: linear-gradient(90deg, currentColor 12px, transparent 0) repeat-x,
              linear-gradient(0deg, currentColor 12px, transparent 0) repeat-y;
  background-size: 24px 2px, 2px 24px;
  opacity: .12;
}

/* Subtle page fade */
.fade-in { animation: fadeIn .32s ease-out both; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(4px); } to { opacity: 1; transform: translateY(0); } }

/* Section layout */
.section-card {
  position: relative;
  border-radius: 20px;
  padding: 24px;
  background: #fff;
  box-shadow: 0 8px 28px rgba(0,0,0,0.06), 0 2px 8px rgba(0,0,0,0.05);
  overflow: hidden;
}
.section-card header {
  position: relative;
  z-index: 2;
  margin-bottom: 16px;
}
.section-card h2 {
  font-size: 1.25rem;
  margin: 0 0 4px;
}
.section-card p {
  margin: 0;
  font-size: 0.9rem;
  color: rgba(15,23,42,0.72);
}
.section-card .section-pattern {
  pointer-events: none;
  position: absolute;
  inset: 0;
  border-radius: inherit;
  z-index: 1;
}
.section-card .section-content {
  position: relative;
  z-index: 2;
}

/* Process flow */
.process-flow {
  display: flex;
  gap: 16px;
}
.process-flow.horizontal {
  flex-wrap: wrap;
}
.process-flow.vertical {
  flex-direction: column;
}
.process-step {
  position: relative;
  display: flex;
  align-items: flex-start;
  gap: 12px;
  padding: 16px;
  border-radius: 18px;
  background: #fff;
  box-shadow: 0 8px 28px rgba(0,0,0,0.06), 0 2px 8px rgba(0,0,0,0.05);
  min-width: 160px;
}
.process-step .step-arrow {
  position: absolute;
  top: 50%;
  right: -18px;
  transform: translateY(-50%);
  color: rgba(148,163,184,0.7);
}
.process-flow.vertical .process-step .step-arrow {
  right: 50%;
  top: auto;
  bottom: -20px;
  transform: translateX(50%);
}

/* Chart cards */
.chart-card {
  background: #fff;
  border-radius: 20px;
  padding: 16px;
  box-shadow: 0 8px 28px rgba(0,0,0,0.06), 0 2px 8px rgba(0,0,0,0.05);
}

/* Styleguide layout */
.styleguide-main {
  max-width: 960px;
  margin: 0 auto;
  padding: 24px;
  display: flex;
  flex-direction: column;
  gap: 24px;
}
.styleguide-main h1 {
  font-size: 1.75rem;
  margin: 0;
}
.palette-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 16px;
}
.palette-card {
  border: 1px solid rgba(148,163,184,0.3);
  border-radius: 16px;
  padding: 12px;
  background: #fff;
  box-shadow: 0 4px 12px rgba(15,23,42,0.06);
}
.palette-swatch {
  height: 48px;
  border-radius: 12px;
  margin-bottom: 8px;
}
.icon-row {
  display: flex;
  align-items: center;
  gap: 24px;
}
.chart-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap: 20px;
}
.illustration-preview {
  display: inline-flex;
  padding: 12px;
  border-radius: 20px;
  background: #fff;
  box-shadow: 0 8px 28px rgba(0,0,0,0.06), 0 2px 8px rgba(0,0,0,0.05);
}
